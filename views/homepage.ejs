<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" href="file-icon.svg" type="image/x-icon" />
		<link rel="stylesheet" href="/style.css" />
		<link rel="stylesheet" href="/homepage.css" />
		<title>Home - File Uploader</title>
	</head>
	<body>
		<%- include('navbar') %>
		<main>
			<div class="sidebar">
				<h2 class="sidebar-header">Folders</h2>
				<div class="folders">
					<% if (locals.folders) { %> <% folders.forEach(folder => {
					%>
					<div class="folder">
						<a href="/home/<%= folder.name %>/show"
							><h2><%= folder.name %></h2></a
						>
						<form
							action="/home/<%= folder.name %>/delete"
							method="post"
						>
							<button
								type="submit"
								onclick="return confirm('Are you sure you want to delete this folder?');"
							>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									viewBox="0 0 24 24"
								>
									<path
										d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"
									/>
								</svg>
							</button>
						</form>
					</div>
					<% }) %> <% } %>
				</div>
			</div>
			<div class="content">
				<div class="content-header">
					<h2>Files</h2>
				</div>
				<div class="folders">
					<% if (locals.files) { %> <% files.forEach(file => { %>
					<div class="folder">
						<h2><%= file.name %></h2>
						<h2><%= file.size %></h2>
						<h2><%= file.uploadTime %></h2>
						<form
							action="/home/<%= file.name %>/delete"
							method="post"
						>
							<button
								type="submit"
								onclick="return confirm('Are you sure you want to delete this file?');"
							>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									viewBox="0 0 24 24"
								>
									<path
										d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"
									/>
								</svg>
							</button>
						</form>
					</div>
					<% }) %> <% } %>
				</div>
			</div>
		</main>
		<% if (locals.showModal) { %> <% if (showModal === 'folder') { %> <%-
		include('folder-form') %> <% } else if (showModal === 'file') { %> <%-
		include('file-form') %> <% } %> <% }%> <%- include('footer') %>
	</body>
</html>
